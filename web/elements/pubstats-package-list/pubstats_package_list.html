<!DOCTYPE html>

<link rel="import" href="../../packages/polymer/polymer.html">
<link rel="import" href="../../packages/core_elements/core_ajax_dart.html">

<polymer-element name="pubstats-package-list">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>
    <core-ajax-dart auto
            url="http://localhost:8080/api/packages"
            handleAs="json"
            response="{{packages}}"></core-ajax-dart>
    <template if="{{packages}}">
        <h1>Package Directory</h1>
        <ul>
            <template repeat="{{package in packages}}">
              <li><a _href="#/packages/{{package}}">{{package}}</a></li>
            </template>
        </ul>
    </template>
  </template>
  <script type="application/dart" src="pubstats_package_list.dart"></script>
</polymer-element>
