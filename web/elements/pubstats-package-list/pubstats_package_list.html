<!DOCTYPE html>

<link rel="import" href="../../packages/polymer/polymer.html">
<link rel="import" href="../../packages/core_elements/core_ajax_dart.html">

<polymer-element name="pubstats-package-list">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>
    <core-ajax-dart auto
            url="/api/packages"
            handleAs="json"
            response="{{packages}}"></core-ajax-dart>

    <ul>
        <template repeat="{{package in packages}}">
          <li><a href="/#/packages/{{package}}">{{package}}</a></li>
        </template>
    </ul>
  </template>
  <script type="application/dart" src="pubstats_package_list.dart"></script>
</polymer-element>
